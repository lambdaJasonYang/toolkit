<!doctype html>
<html lang="en">
  <head>
    <!-- Polyfill for Amplify -->
<script>
  var global = global || window;
  var Buffer = Buffer || [];
  var process = process || {
    env: {
      DEBUG: undefined
    },
    version: []
  };
</script>

<!-- Polyfill for Amplify -->
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/toolkit/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + Lit</title>
    <style>
      body{
        margin: 0;
      }
    </style>
    <!-- <link rel="stylesheet" href="./src/index.css" /> -->
    

    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script type="module" crossorigin src="/toolkit/assets/shaderOne-afe55d50.js"></script>
    <link rel="modulepreload" crossorigin href="/toolkit/assets/lit-element-56383946.js">
    <link rel="modulepreload" crossorigin href="/toolkit/assets/_commonjsHelpers-23102255.js">
    <link rel="modulepreload" crossorigin href="/toolkit/assets/aws-login-a22256e3.js">
  </head>
  <body>
    <div id="tree-container"></div>
   
    
      <script>
        // Parse the JSON data
        const jsonData = '{"type":"Application","value":null,"children":[{"type":"Variable","value":"f","children":[]},{"type":"Application","value":null,"children":[{"type":"Variable","value":"x","children":[]},{"type":"Variable","value":"y","children":[]}]}]}';
        const data = JSON.parse(jsonData);
    
        // Set up the D3 tree layout
        const width = 600;
        const height = 400;
        const margin = { top: 20, right: 90, bottom: 30, left: 90 };
    
        const svg = d3.select('#tree-container')
          .append('svg')
          .attr('width', width)
          .attr('height', height)
          .append('g')
          .attr('transform', `translate(${margin.left},${margin.top})`);
    
        const treeLayout = d3.tree().size([width - margin.left - margin.right, height - margin.top - margin.bottom]);
    
        // Convert the data to a hierarchical structure
        const root = d3.hierarchy(data);
    
        // Assigns the x and y position for the nodes
        treeLayout(root);
    
        // Draw the links between the nodes
        const link = svg.selectAll('.link')
          .data(root.links())
          .enter()
          .append('path')
          .attr('class', 'link')
          .attr('d', d3.linkVertical()
            .x(d => d.x)
            .y(d => d.y));
    
        // Draw the nodes
        const node = svg.selectAll('.node')
          .data(root.descendants())
          .enter()
          .append('g')
          .attr('class', 'node')
          .attr('transform', d => `translate(${d.x},${d.y})`);
    
        node.append('circle')
          .attr('r', 6);
    
        node.append('text')
          .attr('dy', '.35em')
          .attr('y', d => d.children ? -13 : 13)
          .attr('text-anchor', 'middle')
          .text(d => d.data.type);
      </script>
    
    <text-length-logger></text-length-logger>
    <my-node x="90" y="40">
      <my-node  x="320" y="500"></my-node>
      <my-node x="300" y="450"> </my-node>
      </my-node>
    </my-node>

  </body>
</html>
